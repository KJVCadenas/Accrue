{
  "version": 1,
  "database": "sqlite",
  "tables": {
    "accounts": {
      "columns": [
        { "name": "id", "type": "INTEGER", "nullable": false },
        { "name": "name", "type": "TEXT", "nullable": false },
        { "name": "type", "type": "TEXT", "nullable": false },
        { "name": "created_at", "type": "TEXT", "nullable": false }
      ]
    },
    "categories": {
      "columns": [
        { "name": "id", "type": "INTEGER", "nullable": false },
        { "name": "name", "type": "TEXT", "nullable": false },
        { "name": "type", "type": "TEXT", "nullable": false }
      ]
    },
    "transactions": {
      "columns": [
        { "name": "id", "type": "INTEGER", "nullable": false },
        { "name": "account_id", "type": "INTEGER", "nullable": false },
        { "name": "category_id", "type": "INTEGER", "nullable": true },
        { "name": "amount", "type": "INTEGER", "nullable": false },
        { "name": "payee", "type": "TEXT", "nullable": true },
        { "name": "notes", "type": "TEXT", "nullable": true },
        { "name": "occurred_at", "type": "TEXT", "nullable": false },
        { "name": "created_at", "type": "TEXT", "nullable": false }
      ]
    },
    "transfers": {
      "columns": [
        { "name": "id", "type": "INTEGER", "nullable": false },
        { "name": "from_transaction_id", "type": "INTEGER", "nullable": false },
        { "name": "to_transaction_id", "type": "INTEGER", "nullable": false },
        { "name": "created_at", "type": "TEXT", "nullable": false }
      ]
    },
    "budgets": {
      "columns": [
        { "name": "id", "type": "INTEGER", "nullable": false },
        { "name": "category_id", "type": "INTEGER", "nullable": false },
        { "name": "month", "type": "TEXT", "nullable": false },
        { "name": "target", "type": "INTEGER", "nullable": false },
        { "name": "created_at", "type": "TEXT", "nullable": false }
      ]
    }
  },
  "queries": [
    {
      "name": "list_accounts",
      "sql": "SELECT id, name, type as account_type, created_at FROM accounts ORDER BY created_at DESC",
      "columns": ["id", "name", "account_type", "created_at"]
    },
    {
      "name": "list_transactions",
      "sql": "SELECT id, account_id, category_id, amount, payee, notes, occurred_at, created_at FROM transactions ORDER BY occurred_at DESC",
      "columns": ["id", "account_id", "category_id", "amount", "payee", "notes", "occurred_at", "created_at"]
    },
    {
      "name": "list_categories",
      "sql": "SELECT id, name, type as category_type FROM categories ORDER BY name",
      "columns": ["id", "name", "category_type"]
    },
    {
      "name": "list_budgets",
      "sql": "SELECT id, category_id, month, target, created_at FROM budgets ORDER BY month DESC",
      "columns": ["id", "category_id", "month", "target", "created_at"]
    },
    {
      "name": "list_transfers",
      "sql": "SELECT id, from_transaction_id, to_transaction_id, created_at FROM transfers ORDER BY created_at DESC",
      "columns": ["id", "from_transaction_id", "to_transaction_id", "created_at"]
    }
  ]
}
